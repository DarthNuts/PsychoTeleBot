# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenRouter –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

1. **API –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω** –≤ `.env` —Ñ–∞–π–ª
2. **–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å** –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞: `google/gemini-2.0-flash-exp:free`
3. **AI-—Å–µ—Ä–≤–∏—Å** –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

## üÜì –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ OpenRouter

–í `.env` —Ñ–∞–π–ª–µ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É –∏–∑ —ç—Ç–∏—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π:

### üåü –õ—É—á—à–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ):

1. **`arcee-ai/trinity-large-preview:free`** ‚≠ê (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - ‚úÖ –ë–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å (131K —Ç–æ–∫–µ–Ω–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
   - ‚úÖ –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
   - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º
   - ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è

2. **`qwen/qwen3-next-80b-a3b-instruct:free`**
   - ‚úÖ –û—á–µ–Ω—å –º–æ—â–Ω–∞—è (80B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
   - ‚úÖ –û—Ç–ª–∏—á–Ω–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
   - ‚úÖ –ë–æ–ª—å—à–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (262K —Ç–æ–∫–µ–Ω–æ–≤)
   - ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ

3. **`meta-llama/llama-3.2-3b-instruct`** 
   - ‚úÖ –õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –∏ –±—ã—Å—Ç—Ä–∞—è
   - ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è ($0.00)
   - ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è
   - ‚ö†Ô∏è –ú–µ–Ω—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ = –Ω–∏–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ

### üìã –ö–∞–∫ –Ω–∞–π—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:
```bash
python list_openrouter_models.py
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å OpenRouter.

### üìã –ö–∞–∫ –ø–æ–º–µ–Ω—è—Ç—å –º–æ–¥–µ–ª—å

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```env
OPENROUTER_MODEL=google/gemini-2.0-flash-exp:free
```

–ù–∞ –æ–¥–Ω—É –∏–∑:
```env
OPENROUTER_MODEL=qwen/qwen-2-7b-instruct:free
OPENROUTER_MODEL=meta-llama/llama-3.2-3b-instruct:free
OPENROUTER_MODEL=mistralai/mistral-7b-instruct:free
```

## üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª:**
   ```env
   TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_telegram
   OPENROUTER_API_KEY=sk-or-v1-...
   OPENROUTER_MODEL=google/gemini-2.0-flash-exp:free
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   .\run_telegram.bat
   ```

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
   - –í—ã–±–µ—Ä–∏—Ç–µ "2. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å –ò–ò"
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –î–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç AI

## üìä –õ–∏–º–∏—Ç—ã OpenRouter

### –î–≤–∞ —Ç–∏–ø–∞ –º–æ–¥–µ–ª–µ–π:

1. **–ú–æ–¥–µ–ª–∏ —Å –º–∞—Ä–∫–µ—Ä–æ–º `:free`** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `arcee-ai/trinity-large-preview:free`)
   - –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ
   - –ù–µ —Ç—Ä–∞—Ç—è—Ç credits
   - –ú–æ–≥—É—Ç –∏–º–µ—Ç—å rate limits (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É)
   
2. **–ü–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏** (–±–µ–∑ `:free`)
   - –¢—Ä–µ–±—É—é—Ç credits –Ω–∞ –±–∞–ª–∞–Ω—Å–µ
   - –ù–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç $1-2 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö credits
   - –û—á–µ–Ω—å –¥–µ—à–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ —Å—Ç–æ—è—Ç ~$0.000001 –∑–∞ –∑–∞–ø—Ä–æ—Å

### –ï—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç:
–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
> "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è."

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ò–∑–º–µ–Ω–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞

–í `application/ai_service.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```python
AIService(
    max_tokens=500,      # –î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞ (—Ç–æ–∫–µ–Ω—ã)
    temperature=0.7,     # –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (0-1)
    timeout=30,          # –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ (—Å–µ–∫—É–Ω–¥—ã)
    max_history=10       # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏
)
```

### –ù–∞—Å—Ç—Ä–æ–∏—Ç—å system prompt

–í `application/ai_service.py` –Ω–∞–π–¥–∏—Ç–µ `SYSTEM_PROMPT` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:
```bash
python -m pytest tests/ -v
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: **136 passed** ‚úÖ

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á:**
   ```bash
   # –í PowerShell
   $env:OPENROUTER_API_KEY = "–≤–∞—à_–∫–ª—é—á"
   python -c "import os; print('API Key:', 'OK' if os.getenv('OPENROUTER_API_KEY') else 'NOT FOUND')"
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ OpenRouter:**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://openrouter.ai/credits
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ credits

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –ë–æ—Ç –ø–∏—à–µ—Ç –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
   - –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ —Å `ERROR` –∏–ª–∏ `WARNING`

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π OpenRouter](https://openrouter.ai/models?order=newest&supported_parameters=tools&max_price=0)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenRouter API](https://openrouter.ai/docs)
- [–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∏ –ª–∏–º–∏—Ç–æ–≤](https://openrouter.ai/credits)

---

**–ì–æ—Ç–æ–≤–æ! –ë–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ OpenRouter** üéâ
